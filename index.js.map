{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '50339629-b1274d664611d8807e14b18d5';\n\nexport async function getImagesByQuery(query) {\n    const params = {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    };\n  \n    try {\n      const response = await axios.get(BASE_URL, { params });\n      return response.data;\n    } catch (error) {\n      console.error('Помилка запиту до Pixabay API:', error);\n      throw error;\n    }\n  }","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\nexport function createGallery(images) {\n    const markup = images.map(image => {\n      return `\n        <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\" title=\"${image.tags}\">\n  <img\n    class=\"gallery-image\"\n    src=\"${image.webformatURL}\"\n   alt=\"${image.tags.split(',').slice(0, 3).map(tag => tag.trim()).join(', ')}\"\n  />\n</a>\n          <div class=\"info\">\n            <p class=\"info-item\">\n              <b>Likes:</b> ${image.likes}\n            </p>\n            <p class=\"info-item\">\n              <b>Views:</b> ${image.views}\n            </p>\n            <p class=\"info-item\">\n              <b>Comments:</b> ${image.comments}\n            </p>\n            <p class=\"info-item\">\n              <b>Downloads:</b> ${image.downloads}\n            </p>\n          </div>\n        </li>\n      `;\n    }).join('');\n  \n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n  }\n\nexport function clearGallery() {\n    galleryContainer.innerHTML = '';\n}\n  \nexport function showLoader() {\n    document.body.classList.add('loading');\n  }\n  \n  export function hideLoader() {\n    document.body.classList.remove('loading');\n  }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst input = form.elements['search-text'];\nform.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(event) {\n    event.preventDefault();\n  \n    const query = input.value.trim();\n  \n    if (query === '') {\n      iziToast.warning({\n        message: 'Please enter a search query!',\n        position: 'topRight',\n      });\n      return;\n    }\n  \n    clearGallery();\n    showLoader();\n  \n    try {\n      const data = await getImagesByQuery(query);\n  \n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n  \n      createGallery(data.hits);\n      input.value = '';\n    } catch (error) {\n      iziToast.error({\n        message: 'An error occurred while fetching images!',\n          position: 'topRight',\n        \n      });\n    } finally {\n      hideLoader();\n    }\n}\n  \n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","error","galleryContainer","lightbox","SimpleLightbox","createGallery","images","markup","image","tag","clearGallery","showLoader","hideLoader","form","input","onFormSubmit","event","iziToast","data"],"mappings":"wyBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAiBC,EAAO,CAC1C,MAAMC,EAAS,CACb,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,EAEI,GAAI,CAEF,OADiB,MAAME,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,GACrC,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,iCAAkCA,CAAK,EAC/CA,CACP,CACL,CClBA,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAG,EAEI,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIE,GACjB;AAAA;AAAA,wCAE2BA,EAAM,aAAa,YAAYA,EAAM,IAAI;AAAA;AAAA;AAAA,WAGtEA,EAAM,YAAY;AAAA,UACnBA,EAAM,KAAK,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,EAAE,IAAIC,GAAOA,EAAI,KAAM,CAAA,EAAE,KAAK,IAAI,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,8BAK/CD,EAAM,KAAK;AAAA;AAAA;AAAA,8BAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,iCAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,kCAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,OAK5C,EAAE,KAAK,EAAE,EAEVN,EAAiB,mBAAmB,YAAaK,CAAM,EACvDJ,EAAS,QAAO,CACjB,CAEI,SAASO,GAAe,CAC3BR,EAAiB,UAAY,EACjC,CAEO,SAASS,GAAa,CACzB,SAAS,KAAK,UAAU,IAAI,SAAS,CACtC,CAEM,SAASC,GAAa,CAC3B,SAAS,KAAK,UAAU,OAAO,SAAS,CAC5C,CC/CA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EACzCA,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,eAAeA,EAAaC,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAMlB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAIhB,IAAU,GAAI,CAChBmB,EAAS,QAAQ,CACf,QAAS,+BACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDP,IACAC,IAEA,GAAI,CACF,MAAMO,EAAO,MAAMrB,EAAiBC,CAAK,EAEzC,GAAIoB,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CAEDZ,EAAca,EAAK,IAAI,EACvBJ,EAAM,MAAQ,EACf,MAAe,CACdG,EAAS,MAAM,CACb,QAAS,2CACP,SAAU,UAEpB,CAAO,CACP,QAAc,CACRL,GACD,CACL"}